<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Website Toko Online - Shopify Style</title>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --bg: #f8fafc;
            --card: #ffffff;
            --text: #1f2937;
            --text-light: #6b7280;
            --border: #e5e7eb;
            --radius: 12px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 20px 0;
            box-shadow: var(--shadow-lg);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.75rem;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .header-info {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 0.95rem;
        }
        
        .badge {
            background: rgba(255,255,255,0.2);
            padding: 6px 12px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        
        .main-content {
            padding: 40px 0;
        }
        
        .card {
            background: var(--card);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid var(--border);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f3f4f6;
        }
        
        .card-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .step-number {
            width: 35px;
            height: 35px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text);
            font-size: 0.95rem;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.2s ease;
            background: white;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        .form-control:invalid {
            border-color: var(--danger);
        }
        
        .helper-text {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-top: 5px;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
        }
        
        .checkbox {
            width: 18px;
            height: 18px;
            accent-color: var(--primary);
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background: #059669;
        }
        
        .btn-full {
            width: 100%;
        }
        
        .result-section {
            display: none;
            margin-top: 40px;
        }
        
        .result-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .result-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--success);
        }
        
        .result-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .code-output {
            width: 100%;
            min-height: 400px;
            background: #1e293b;
            color: #e2e8f0;
            border: none;
            border-radius: 8px;
            padding: 20px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            resize: vertical;
        }
        
        .footer {
            text-align: center;
            padding: 40px 0;
            color: var(--text-light);
            background: white;
            border-top: 1px solid var(--border);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .card {
                padding: 20px;
            }
            
            .result-actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .feature-card {
            background: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            text-align: center;
        }
        
        .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid;
        }
        
        .alert-info {
            background: #eff6ff;
            border-color: #3b82f6;
            color: #1e40af;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    üõçÔ∏è Generator Website Toko Online
                </div>
                <div class="header-info">
                    <div class="badge">
                        üì± Powered by <strong>nexcoAI</strong>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <div class="alert alert-info">
                üí° <strong>Shopify-Style Generator</strong> - Buat website toko online yang modern, responsif, dan mobile-friendly dengan fitur lengkap seperti platform e-commerce profesional.
            </div>

            <form id="generatorForm">
                <div class="card">
                    <div class="card-header">
                        <div class="step-number">1</div>
                        <div class="card-title">Informasi Produk & Toko</div>
                    </div>
                    
                    <div class="form-grid">
                        <div>
                            <div class="form-group">
                                <label class="form-label" for="productName">Nama Produk *</label>
                                <input type="text" id="productName" class="form-control" required placeholder="Contoh: Jaket Hoodie Premium Unisex">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="price">Harga Produk (Rp) *</label>
                                <input type="number" id="price" class="form-control" required min="1000" step="1000" placeholder="185000">
                                <div class="helper-text">Masukkan harga tanpa titik atau koma</div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="description">Deskripsi Produk *</label>
                                <textarea id="description" class="form-control" required rows="4" placeholder="Tulis deskripsi menarik tentang produk Anda..."></textarea>
                            </div>
                        </div>
                        
                        <div>
                            <div class="form-group">
                                <label class="form-label" for="storeName">Nama Toko *</label>
                                <input type="text" id="storeName" class="form-control" required placeholder="Contoh: Fashion Store Indonesia">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="whatsapp">WhatsApp Toko *</label>
                                <input type="text" id="whatsapp" class="form-control" required placeholder="6281234567890">
                                <div class="helper-text">Format: 628xxxx (diawali 62, tanpa + atau 0)</div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="storePhone">Telepon Toko</label>
                                <input type="text" id="storePhone" class="form-control" placeholder="021-12345678">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="features">Fitur/Keunggulan Produk</label>
                                <textarea id="features" class="form-control" rows="3" placeholder="Contoh: Bahan Premium, Anti Air, Garansi 1 Tahun"></textarea>
                                <div class="helper-text">Pisahkan dengan koma untuk setiap fitur</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="step-number">2</div>
                        <div class="card-title">Galeri Produk</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="productImages">URL Gambar Produk *</label>
                        <textarea id="productImages" class="form-control" required rows="6" placeholder="https://example.com/image1.jpg&#10;https://example.com/image2.jpg&#10;https://example.com/image3.jpg"></textarea>
                        <div class="helper-text">Masukkan satu URL per baris. Minimal 1 gambar, maksimal 10 gambar. Gunakan format JPG, PNG, atau WEBP.</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="productGif">URL GIF Produk (Opsional)</label>
                        <input type="url" id="productGif" class="form-control" placeholder="https://example.com/product.gif">
                        <div class="helper-text">GIF akan ditampilkan di galeri untuk menunjukkan produk bergerak</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="step-number">3</div>
                        <div class="card-title">Varian Produk</div>
                    </div>
                    
                    <div class="checkbox-group">
                        <input type="checkbox" id="hasVariants" class="checkbox">
                        <label for="hasVariants" class="form-label">Produk memiliki varian (warna/ukuran)</label>
                    </div>
                    
                    <div class="form-grid">
                        <div>
                            <div class="form-group">
                                <label class="form-label" for="colors">Pilihan Warna</label>
                                <input type="text" id="colors" class="form-control" disabled placeholder="Hitam, Putih, Navy, Coklat">
                                <div class="helper-text">Pisahkan dengan koma</div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="sizes">Pilihan Ukuran</label>
                                <input type="text" id="sizes" class="form-control" disabled placeholder="S, M, L, XL, XXL">
                                <div class="helper-text">Pisahkan dengan koma</div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="autoGenerateCombinations" class="checkbox" disabled>
                                <label for="autoGenerateCombinations" class="form-label">Generate kombinasi otomatis</label>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="manualVariantList">Atau List Varian Manual</label>
                                <textarea id="manualVariantList" class="form-control" disabled rows="6" placeholder="HITAM-S&#10;HITAM-M&#10;PUTIH-L&#10;NAVY-XL"></textarea>
                                <div class="helper-text">Satu varian per baris. Format: WARNA-UKURAN</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <button type="button" id="generateBtn" class="btn btn-primary btn-full">
                        üöÄ Generate Website Toko Online
                    </button>
                </div>
            </form>

            <div id="resultSection" class="result-section">
                <div class="card">
                    <div class="result-header">
                        <div class="step-number">‚úÖ</div>
                        <div class="result-title">Website Berhasil Dibuat!</div>
                    </div>
                    
                    <div class="result-actions">
                        <button id="copyBtn" class="btn btn-success">üìã Salin Kode HTML</button>
                        <button id="downloadBtn" class="btn btn-primary">üíæ Download File HTML</button>
                        <button id="previewBtn" class="btn btn-primary">üëÅÔ∏è Preview Website</button>
                    </div>
                    
                    <textarea id="result" class="code-output" readonly spellcheck="false"></textarea>
                    
                    <div class="alert alert-info">
                        <strong>Cara Penggunaan:</strong><br>
                        1. Salin kode HTML atau download file<br>
                        2. Upload ke hosting atau buka langsung di browser<br>
                        3. Website siap digunakan dengan fitur lengkap!
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 <strong>nexcoAI</strong> - Generator Website Toko Online | Modern, Fast, Professional</p>
        </div>
    </footer>

    <script>
        // Data wilayah Indonesia yang lebih lengkap
        const indonesiaData = {
            "DKI Jakarta": {
                "Jakarta Pusat": ["Cempaka Putih", "Gambir", "Johar Baru", "Kemayoran", "Menteng", "Sawah Besar", "Senen", "Tanah Abang"],
                "Jakarta Utara": ["Cilincing", "Kelapa Gading", "Koja", "Pademangan", "Penjaringan", "Tanjung Priok"],
                "Jakarta Barat": ["Cengkareng", "Grogol Petamburan", "Kalideres", "Kebon Jeruk", "Kembangan", "Palmerah", "Taman Sari", "Tambora"],
                "Jakarta Selatan": ["Cilandak", "Jagakarsa", "Kebayoran Baru", "Kebayoran Lama", "Mampang Prapatan", "Pancoran", "Pasar Minggu", "Pesanggrahan", "Setiabudi", "Tebet"],
                "Jakarta Timur": ["Cakung", "Cipayung", "Ciracas", "Duren Sawit", "Jatinegara", "Kramat Jati", "Makasar", "Matraman", "Pasar Rebo", "Pulogadung"],
                "Kepulauan Seribu": ["Kepulauan Seribu Selatan", "Kepulauan Seribu Utara"]
            },
            "Jawa Barat": {
                "Bandung": ["Andir", "Antapani", "Arcamanik", "Astana Anyar", "Babakan Ciparay", "Bandung Kidul", "Bandung Kulon", "Bandung Wetan", "Batununggal", "Bojongloa Kaler", "Bojongloa Kidul", "Buahbatu", "Cicendo", "Cidadap", "Cinambo", "Coblong", "Gedebage", "Kiaracondong", "Lengkong", "Mandalajati", "Panyileukan", "Rancasari", "Regol", "Sukajadi", "Sukasari", "Sumur Bandung", "Ujung Berung"],
                "Bekasi": ["Bantargebang", "Bekasi Barat", "Bekasi Selatan", "Bekasi Timur", "Bekasi Utara", "Jatiasih", "Jatisampurna", "Medan Satria", "Mustika Jaya", "Pondok Gede", "Pondok Melati", "Rawalumbu"],
                "Bogor": ["Bogor Barat", "Bogor Selatan", "Bogor Tengah", "Bogor Timur", "Bogor Utara", "Tanah Sareal"],
                "Depok": ["Beji", "Bojongsari", "Cilodong", "Cimanggis", "Cinere", "Cipayung", "Limo", "Pancoran Mas", "Sawangan", "Sukmajaya", "Tapos"],
                "Cimahi": ["Cimahi Selatan", "Cimahi Tengah", "Cimahi Utara"]
            },
            "Jawa Tengah": {
                "Semarang": ["Banyumanik", "Candisari", "Gajahmungkur", "Gayamsari", "Genuk", "Gunungpati", "Ngaliyan", "Pedurungan", "Semarang Barat", "Semarang Selatan", "Semarang Tengah", "Semarang Timur", "Semarang Utara", "Tembalang", "Tugu"],
                "Surakarta": ["Banjarsari", "Jebres", "Laweyan", "Pasar Kliwon", "Serengan"]
            }
        };

        // Estimasi ongkir berdasarkan zona (dalam Rupiah)
        const ongkirEstimasi = {
            "DKI Jakarta": 12000,
            "Jawa Barat": 10000,
            "Jawa Tengah": 12000,
            "DI Yogyakarta": 12000,
            "Jawa Timur": 12000,
            "Banten": 12000,
            "Bali": 18000
        };

        // Event handlers
        document.getElementById('hasVariants').addEventListener('change', function() {
            const checked = this.checked;
            const fields = ['colors', 'sizes', 'autoGenerateCombinations', 'manualVariantList'];
            fields.forEach(id => {
                const field = document.getElementById(id);
                field.disabled = !checked;
                if (!checked) field.value = '';
            });
        });

        document.getElementById('generateBtn').addEventListener('click', function() {
            if (!validateForm()) return;
            
            const formData = collectFormData();
            const html = generateWebsite(formData);
            
            document.getElementById('result').value = html;
            document.getElementById('resultSection').style.display = 'block';
            document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });
        });

        document.getElementById('copyBtn').addEventListener('click', function() {
            const result = document.getElementById('result');
            result.select();
            result.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(result.value).then(() => {
                this.textContent = '‚úÖ Berhasil Disalin!';
                setTimeout(() => {
                    this.textContent = 'üìã Salin Kode HTML';
                }, 2000);
            });
        });

        document.getElementById('downloadBtn').addEventListener('click', function() {
            const code = document.getElementById('result').value;
            const blob = new Blob([code], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'toko-online-shopify-style.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });

        document.getElementById('previewBtn').addEventListener('click', function() {
            const code = document.getElementById('result').value;
            const blob = new Blob([code], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            window.open(url, '_blank');
        });

        function validateForm() {
            const requiredFields = ['productName', 'price', 'description', 'storeName', 'whatsapp', 'productImages'];
            let isValid = true;

            requiredFields.forEach(id => {
                const field = document.getElementById(id);
                if (!field.value.trim()) {
                    field.style.borderColor = 'var(--danger)';
                    isValid = false;
                } else {
                    field.style.borderColor = 'var(--border)';
                }
            });

            if (!isValid) {
                alert('Mohon lengkapi semua field yang wajib diisi (bertanda *)');
            }

            return isValid;
        }

        function collectFormData() {
            const getVal = id => document.getElementById(id).value.trim();
            
            let images = getVal('productImages').split(/[\n,]/).map(x => x.trim()).filter(Boolean);
            const gifUrl = getVal('productGif');
            if (gifUrl) images.push(gifUrl);

            const hasVariants = document.getElementById('hasVariants').checked;
            let colors = hasVariants ? getVal('colors').split(',').map(c => c.trim()).filter(Boolean) : [];
            let sizes = hasVariants ? getVal('sizes').split(',').map(s => s.trim()).filter(Boolean) : [];
            let features = getVal('features').split(',').map(f => f.trim()).filter(Boolean);

            let variantCombinations = [];
            if (hasVariants) {
                const autoGen = document.getElementById('autoGenerateCombinations').checked;
                const manualList = getVal('manualVariantList');
                
                if (autoGen && colors.length && sizes.length) {
                    colors.forEach(color => {
                        sizes.forEach(size => {
                            variantCombinations.push(`${color.toUpperCase()}-${size.toUpperCase()}`);
                        });
                    });
                } else if (manualList) {
                    variantCombinations = manualList.split('\n').map(x => x.trim()).filter(Boolean);
                }
            }

            return {
                productName: getVal('productName'),
                price: parseInt(getVal('price')),
                description: getVal('description'),
                storeName: getVal('storeName'),
                whatsapp: getVal('whatsapp').replace(/\D/g, ''),
                storePhone: getVal('storePhone'),
                features,
                images,
                hasVariants,
                colors,
                sizes,
                variantCombinations
            };
        }

        function generateWebsite(formData) {
            function esc(str) {
                return (str + "").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
                    .replace(/"/g, "&quot;").replace(/'/g, "&#39;");
            }

            const addressDataString = JSON.stringify(indonesiaData);
            const ongkirDataString = JSON.stringify(ongkirEstimasi);

            // Generate variant HTML
            function generateVariantHTML() {
                if (!formData.hasVariants) return '';
                
                if (formData.variantCombinations && formData.variantCombinations.length > 0) {
                    return `
                    <div class="product-option">
                        <label class="option-label">Pilih Varian:</label>
                        <select id="variantSelect" class="form-select" required onchange="updateOrderSummary()">
                            <option value="">-- Pilih Varian --</option>
                            ${formData.variantCombinations.map(variant =>
                                `<option value="${esc(variant)}">${esc(variant)}</option>`
                            ).join('')}
                        </select>
                    </div>`;
                } else {
                    let html = '';
                    if (formData.colors && formData.colors.length > 0) {
                        html += `
                        <div class="product-option">
                            <label class="option-label">Pilih Warna:</label>
                            <div class="color-options">
                                ${formData.colors.map((color, index) => `
                                    <label class="color-option">
                                        <input type="radio" name="color" value="${esc(color)}" ${index === 0 ? 'checked' : ''} onchange="updateOrderSummary()">
                                        <span class="color-name">${esc(color)}</span>
                                    </label>
                                `).join('')}
                            </div>
                        </div>`;
                    }
                    if (formData.sizes && formData.sizes.length > 0) {
                        html += `
                        <div class="product-option">
                            <label class="option-label">Pilih Ukuran:</label>
                            <div class="size-options">
                                ${formData.sizes.map((size, index) => `
                                    <label class="size-option">
                                        <input type="radio" name="size" value="${esc(size)}" ${index === 0 ? 'checked' : ''} onchange="updateOrderSummary()">
                                        <span class="size-name">${esc(size)}</span>
                                    </label>
                                `).join('')}
                            </div>
                        </div>`;
                    }
                    return html;
                }
            }

            // Features HTML
            let featuresHtml = '';
            if (formData.features && formData.features.length) {
                featuresHtml = `
                <div class="product-features">
                    <h3>üåü Keunggulan Produk</h3>
                    <ul class="features-list">
                        ${formData.features.map(f => `<li>‚úì ${esc(f)}</li>`).join('')}
                    </ul>
                </div>`;
            }

            // Gallery HTML
            const galleryHtml = `
            <div class="product-gallery">
                <div class="main-image-container">
                    <img id="mainImage" src="${esc(formData.images[0])}" alt="${esc(formData.productName)}" class="main-image">
                    <div class="image-zoom-hint">üîç Klik untuk zoom</div>
                </div>
                <div class="thumbnail-slider">
                    ${formData.images.map((img, index) => `
                        <img src="${esc(img)}" alt="Gambar ${index + 1}" 
                             class="thumbnail ${index === 0 ? 'active' : ''}" 
                             onclick="changeMainImage('${esc(img)}', ${index})">
                    `).join('')}
                </div>
            </div>`;

            return `<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${esc(formData.productName)} - ${esc(formData.storeName)}</title>
    <meta name="description" content="${esc(formData.description)}">
    <meta property="og:title" content="${esc(formData.productName)}">
    <meta property="og:description" content="${esc(formData.description)}">
    <meta property="og:image" content="${esc(formData.images[0])}">
    
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
            --bg: #ffffff;
            --bg-secondary: #f8fafc;
            --text: #1f2937;
            --text-light: #6b7280;
            --text-muted: #9ca3af;
            --border: #e5e7eb;
            --border-light: #f3f4f6;
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --radius: 8px;
            --radius-lg: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 16px 0;
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .store-name {
            font-size: 1.5rem;
            font-weight: 800;
            text-decoration: none;
            color: white;
        }

        .contact-info {
            display: flex;
            align-items: center;
            gap: 20px;
            font-size: 0.9rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 6px;
            background: rgba(255,255,255,0.1);
            padding: 6px 12px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        /* Landing Page Sections */
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 80px 0;
            text-align: center;
            color: white;
        }

        .hero-title {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 20px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .hero-subtitle {
            font-size: 1.3rem;
            margin-bottom: 40px;
            opacity: 0.9;
        }

        .hero-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 50px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            font-weight: 600;
        }

        /* Product Section */
        .product-section {
            padding: 80px 0;
            background: var(--bg-secondary);
        }

        .product-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: start;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Gallery */
        .product-gallery {
            position: sticky;
            top: 120px;
        }

        .main-image-container {
            position: relative;
            width: 100%;
            aspect-ratio: 1;
            background: white;
            border-radius: var(--radius-lg);
            overflow: hidden;
            margin-bottom: 24px;
            cursor: zoom-in;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-light);
        }

        .main-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .main-image-container:hover .main-image {
            transform: scale(1.05);
        }

        .image-zoom-hint {
            position: absolute;
            bottom: 12px;
            right: 12px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .main-image-container:hover .image-zoom-hint {
            opacity: 1;
        }

        .thumbnail-slider {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding: 8px 0;
            scrollbar-width: thin;
        }

        .thumbnail {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: var(--radius);
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .thumbnail:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .thumbnail.active {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
        }

        /* Product Info */
        .product-info {
            background: white;
            padding: 40px;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-light);
        }

        .product-title {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--text);
            margin-bottom: 16px;
            line-height: 1.2;
        }

        .product-price {
            font-size: 2.4rem;
            font-weight: 900;
            color: var(--primary);
            margin-bottom: 24px;
            text-shadow: 0 1px 2px rgba(99, 102, 241, 0.1);
        }

        .product-description {
            font-size: 1.15rem;
            color: var(--text-light);
            margin-bottom: 32px;
            line-height: 1.7;
        }

        .product-features {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            padding: 24px;
            border-radius: var(--radius-lg);
            margin-bottom: 32px;
            border: 1px solid var(--border-light);
        }

        .product-features h3 {
            font-size: 1.3rem;
            margin-bottom: 16px;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .features-list {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 8px;
        }

        .features-list li {
            padding: 8px 0;
            color: var(--success);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Product Options */
        .product-option {
            margin-bottom: 28px;
        }

        .option-label {
            display: block;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--text);
            font-size: 1.1rem;
        }

        .form-select {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-size: 1rem;
            background: white;
            transition: all 0.2s ease;
            box-shadow: var(--shadow);
        }

        .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .color-options, .size-options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }

        .color-option, .size-option {
            position: relative;
            cursor: pointer;
        }

        .color-option input, .size-option input {
            position: absolute;
            opacity: 0;
        }

        .color-name, .size-name {
            display: block;
            padding: 12px 20px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            transition: all 0.2s ease;
            font-weight: 600;
            background: white;
            box-shadow: var(--shadow);
        }

        .color-option input:checked + .color-name,
        .size-option input:checked + .size-name {
            border-color: var(--primary);
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .color-option:hover .color-name,
        .size-option:hover .size-name {
            border-color: var(--primary);
            transform: translateY(-1px);
        }

        /* Quantity Controls */
        .quantity-section {
            margin-bottom: 32px;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-top: 12px;
        }

        .qty-btn {
            width: 48px;
            height: 48px;
            border: 2px solid var(--border);
            background: white;
            border-radius: 50%;
            font-size: 1.4rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
        }

        .qty-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .qty-input {
            width: 80px;
            height: 48px;
            text-align: center;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-size: 1.2rem;
            font-weight: 700;
            background: white;
            box-shadow: var(--shadow);
        }

        .qty-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        /* Order Form Section - Professional Landing Page Style */
        .order-form-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 80px 0;
            margin-top: 40px;
        }

        .order-form-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .order-form-header {
            text-align: center;
            color: white;
            margin-bottom: 50px;
        }

        .order-form-title {
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 16px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .order-form-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .order-form-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .order-form {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .form-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.4rem;
            font-weight: 800;
            margin-bottom: 24px;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 12px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--border-light);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            color: var(--text);
            font-size: 0.95rem;
        }

        .required {
            color: var(--danger);
        }

        .form-control {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: all 0.2s ease;
            background: white;
            box-shadow: var(--shadow);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
            transform: translateY(-1px);
        }

        .form-control:invalid {
            border-color: var(--danger);
        }

        .helper-text {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-top: 6px;
        }

        /* Address Info */
        .address-info {
            background: linear-gradient(135deg, #fef3c7, #fed7aa);
            border: 1px solid #f59e0b;
            padding: 18px 24px;
            border-radius: var(--radius-lg);
            margin: 20px 0;
        }

        .address-info-title {
            font-weight: 700;
            color: #92400e;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .address-info-text {
            font-size: 0.9rem;
            color: #92400e;
            line-height: 1.5;
        }

        /* Order Summary */
        .order-summary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-radius: var(--radius-lg);
            padding: 32px;
            margin: 40px 0;
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
        }

        .order-summary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>');
            opacity: 0.1;
        }

        .summary-title {
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 24px;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            position: relative;
            z-index: 1;
        }

        .summary-row:last-child {
            border-bottom: none;
            margin-top: 16px;
            padding-top: 24px;
            border-top: 2px solid rgba(255,255,255,0.3);
            font-weight: 800;
            font-size: 1.2rem;
        }

        .summary-label {
            color: rgba(255,255,255,0.9);
            font-weight: 500;
        }

        .summary-value {
            font-weight: 700;
            color: white;
        }

        .total-value {
            font-size: 1.3rem;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }

        /* Payment Methods */
        .payment-methods {
            text-align: center;
            margin: 40px 0;
        }

        .payment-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text);
        }

        .payment-options {
            display: flex;
            justify-content: center;
            gap: 24px;
            flex-wrap: wrap;
        }

        .payment-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            padding: 16px 20px;
            background: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            transition: transform 0.2s ease;
            border: 2px solid var(--border-light);
        }

        .payment-option:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .payment-icon {
            width: 56px;
            height: 40px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .payment-name {
            font-size: 0.9rem;
            color: var(--text-light);
            font-weight: 600;
        }

        /* WhatsApp Button */
        .whatsapp-btn {
            width: 100%;
            background: linear-gradient(135deg, #25d366 0%, #1da851 100%);
            color: white;
            border: none;
            padding: 20px 32px;
            border-radius: var(--radius-lg);
            font-size: 1.3rem;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-top: 32px;
            box-shadow: var(--shadow-lg);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .whatsapp-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 25px 50px -12px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-btn:active {
            transform: translateY(-1px);
        }

        /* Trust Section */
        .trust-section {
            background: white;
            padding: 80px 0;
            margin-top: 0;
        }

        .trust-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .trust-title {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 16px;
            color: var(--text);
        }

        .trust-subtitle {
            font-size: 1.1rem;
            color: var(--text-light);
        }

        .trust-badges {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 32px;
        }

        .trust-badge {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 32px;
            background: linear-gradient(135deg, var(--bg-secondary), white);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-light);
            transition: transform 0.2s ease;
        }

        .trust-badge:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .trust-icon {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .trust-text h4 {
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--text);
            font-size: 1.1rem;
        }

        .trust-text p {
            font-size: 0.95rem;
            color: var(--text-light);
            line-height: 1.5;
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--text) 0%, #111827 100%);
            color: white;
            padding: 60px 0 40px;
            margin-top: 0;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h3 {
            margin-bottom: 20px;
            color: white;
            font-size: 1.2rem;
            font-weight: 700;
        }

        .footer-section p {
            color: #d1d5db;
            line-height: 1.7;
        }

        .footer-bottom {
            border-top: 1px solid #374151;
            padding-top: 24px;
            text-align: center;
            color: #9ca3af;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .product-container {
                gap: 60px;
            }
            
            .contact-info {
                flex-direction: column;
                gap: 10px;
            }

            .hero-title {
                font-size: 2.4rem;
            }

            .order-form-title {
                font-size: 2rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 16px;
            }

            .product-container {
                grid-template-columns: 1fr;
                gap: 40px;
            }

            .product-gallery {
                position: static;
            }

            .product-info {
                padding: 32px 24px;
            }

            .product-title {
                font-size: 1.8rem;
            }

            .product-price {
                font-size: 2rem;
            }

            .hero-section {
                padding: 60px 0;
            }

            .hero-title {
                font-size: 2rem;
            }

            .hero-subtitle {
                font-size: 1.1rem;
            }

            .order-form-section {
                padding: 60px 0;
            }

            .order-form {
                padding: 32px 24px;
                margin: 0 16px;
            }

            .order-form-title {
                font-size: 1.8rem;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .payment-options {
                flex-direction: column;
                align-items: center;
            }

            .trust-badges {
                grid-template-columns: 1fr;
            }

            .trust-badge {
                padding: 24px;
            }

            .header-content {
                flex-direction: column;
                gap: 12px;
                text-align: center;
            }

            .contact-info {
                flex-direction: row;
                gap: 16px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 12px;
            }

            .color-options, .size-options {
                justify-content: center;
            }

            .quantity-controls {
                justify-content: center;
            }

            .product-info {
                padding: 24px 20px;
            }

            .order-form {
                margin: 0 8px;
                padding: 24px 20px;
            }

            .whatsapp-btn {
                font-size: 1.1rem;
                padding: 16px 24px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="#" class="store-name">${esc(formData.storeName)}</a>
                <div class="contact-info">
                    <div class="contact-item">
                        <span>üì±</span>
                        <span>${esc(formData.whatsapp)}</span>
                    </div>
                    ${formData.storePhone ? `
                    <div class="contact-item">
                        <span>‚òéÔ∏è</span>
                        <span>${esc(formData.storePhone)}</span>
                    </div>
                    ` : ''}
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="hero-badge">‚ú® Produk Terbaik</div>
            <h1 class="hero-title">${esc(formData.productName)}</h1>
            <p class="hero-subtitle">Dapatkan produk berkualitas tinggi dengan harga terbaik</p>
        </div>
    </section>

    <!-- Product Section -->
    <main class="product-section">
        <div class="container">
            <div class="product-container">
                ${galleryHtml}
                
                <div class="product-info">
                    <h2 class="product-title">${esc(formData.productName)}</h2>
                    <div class="product-price">Rp ${formData.price.toLocaleString('id-ID')}</div>
                    <p class="product-description">${esc(formData.description)}</p>
                    
                    ${featuresHtml}
                    
                    ${generateVariantHTML()}
                    
                    <div class="quantity-section">
                        <label class="option-label">Jumlah:</label>
                        <div class="quantity-controls">
                            <button type="button" class="qty-btn" onclick="changeQuantity(-1)">‚àí</button>
                            <input type="number" id="quantity" value="1" min="1" max="99" class="qty-input" onchange="updateOrderSummary()">
                            <button type="button" class="qty-btn" onclick="changeQuantity(1)">+</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Order Form Section -->
    <section class="order-form-section">
        <div class="container">
            <div class="order-form-container">
                <div class="order-form-header">
                    <div class="order-form-badge">üöÄ Pesan Sekarang</div>
                    <h2 class="order-form-title">Formulir Pemesanan</h2>
                    <p class="order-form-subtitle">Isi data di bawah untuk melanjutkan pemesanan</p>
                </div>

                <div class="order-form">
                    <div class="form-section">
                        <h3 class="section-title">üë§ Data Pemesan</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Nama Lengkap <span class="required">*</span></label>
                                <input type="text" id="customerName" class="form-control" required placeholder="Masukkan nama lengkap">
                            </div>
                            <div class="form-group">
                                <label class="form-label">No. WhatsApp <span class="required">*</span></label>
                                <input type="tel" id="customerPhone" class="form-control" required placeholder="08xxxxxxxxxx">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">üìç Alamat Pengiriman</h3>
                        <div class="form-group">
                            <label class="form-label">Alamat Lengkap <span class="required">*</span></label>
                            <textarea id="customerAddress" class="form-control" rows="3" required placeholder="Jalan, RT/RW, No. Rumah, Patokan"></textarea>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Provinsi <span class="required">*</span></label>
                                <select id="province" class="form-select" onchange="loadCities()" required>
                                    <option value="">Pilih Provinsi</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Kota/Kabupaten <span class="required">*</span></label>
                                <select id="city" class="form-select" onchange="loadDistricts()" disabled required>
                                    <option value="">Pilih Kota/Kabupaten</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Kecamatan <span class="required">*</span></label>
                            <select id="district" class="form-select" disabled required>
                                <option value="">Pilih Kecamatan</option>
                            </select>
                        </div>

                        <div class="address-info">
                            <div class="address-info-title">üí° Tips Pengiriman</div>
                            <div class="address-info-text">Pastikan alamat lengkap dan nomor WhatsApp aktif untuk memudahkan kurir menghubungi Anda</div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">üìù Catatan Tambahan</h3>
                        <div class="form-group">
                            <label class="form-label">Catatan untuk penjual (opsional)</label>
                            <textarea id="notes" class="form-control" rows="3" placeholder="Contoh: Kirim sore hari, warna cadangan biru, dll"></textarea>
                        </div>
                    </div>

                    <div class="order-summary">
                        <h3 class="summary-title">üßæ Ringkasan Pesanan</h3>
                        <div class="summary-row">
                            <span class="summary-label">Produk:</span>
                            <span class="summary-value" id="summaryProduct">${esc(formData.productName)}</span>
                        </div>
                        <div class="summary-row" id="summaryVariantRow" style="display: none;">
                            <span class="summary-label">Varian:</span>
                            <span class="summary-value" id="summaryVariant">-</span>
                        </div>
                        <div class="summary-row">
                            <span class="summary-label">Jumlah:</span>
                            <span class="summary-value" id="summaryQty">1 pcs</span>
                        </div>
                        <div class="summary-row">
                            <span class="summary-label">Subtotal:</span>
                            <span class="summary-value" id="summarySubtotal">Rp ${formData.price.toLocaleString('id-ID')}</span>
                        </div>
                        <div class="summary-row">
                            <span class="summary-label">Ongkos Kirim:</span>
                            <span class="summary-value" id="summaryOngkir">Pilih alamat</span>
                        </div>
                        <div class="summary-row">
                            <span class="summary-label">Kode Unik:</span>
                            <span class="summary-value" id="summaryUniqueCode">+Rp 0</span>
                        </div>
                        <div class="summary-row">
                            <span class="summary-label">TOTAL PEMBAYARAN:</span>
                            <span class="summary-value total-value" id="summaryTotal">Rp ${formData.price.toLocaleString('id-ID')}</span>
                        </div>
                    </div>

                    <div class="payment-methods">
                        <h4 class="payment-title">üí≥ Metode Pembayaran Tersedia</h4>
                        <div class="payment-options">
                            <div class="payment-option">
                                <div class="payment-icon" style="background: linear-gradient(135deg, #2563eb, #1d4ed8); color: white; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; font-weight: bold;">BANK</div>
                                <span class="payment-name">Transfer Bank</span>
                            </div>
                            <div class="payment-option">
                                <div class="payment-icon" style="background: linear-gradient(135deg, #ec4899, #be185d); color: white; display: flex; align-items: center; justify-content: center; font-size: 0.6rem; font-weight: bold;">E-WALLET</div>
                                <span class="payment-name">E-Wallet</span>
                            </div>
                            <div class="payment-option">
                                <div class="payment-icon" style="background: linear-gradient(135deg, #10b981, #047857); color: white; display: flex; align-items: center; justify-content: center; font-size: 0.6rem; font-weight: bold;">CREDIT</div>
                                <span class="payment-name">Kartu Kredit</span>
                            </div>
                        </div>
                    </div>

                    <button type="button" class="whatsapp-btn" onclick="submitOrder()">
                        <span>üì±</span>
                        <span>Pesan Sekarang via WhatsApp</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Trust Section -->
    <section class="trust-section">
        <div class="container">
            <div class="trust-header">
                <h2 class="trust-title">üõ°Ô∏è Mengapa Berbelanja di Sini?</h2>
                <p class="trust-subtitle">Kepercayaan pelanggan adalah prioritas utama kami</p>
            </div>
            <div class="trust-badges">
                <div class="trust-badge">
                    <div class="trust-icon">‚úÖ</div>
                    <div class="trust-text">
                        <h4>Produk Original</h4>
                        <p>100% produk asli dengan kualitas terjamin dan bergaransi resmi</p>
                    </div>
                </div>
                <div class="trust-badge">
                    <div class="trust-icon">üöö</div>
                    <div class="trust-text">
                        <h4>Pengiriman Cepat</h4>
                        <p>Proses pengiriman 1-2 hari kerja ke seluruh Indonesia</p>
                    </div>
                </div>
                <div class="trust-badge">
                    <div class="trust-icon">üí¨</div>
                    <div class="trust-text">
                        <h4>Layanan 24/7</h4>
                        <p>Customer service profesional siap membantu kapan saja</p>
                    </div>
                </div>
                <div class="trust-badge">
                    <div class="trust-icon">üîí</div>
                    <div class="trust-text">
                        <h4>Pembayaran Aman</h4>
                        <p>Sistem pembayaran terenkripsi dan terpercaya</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>${esc(formData.storeName)}</h3>
                    <p>Toko online terpercaya dengan produk berkualitas tinggi dan pelayanan terbaik untuk kepuasan pelanggan. Kami berkomitmen memberikan pengalaman berbelanja yang luar biasa.</p>
                </div>
                <div class="footer-section">
                    <h3>Kontak Kami</h3>
                    <p>WhatsApp: ${esc(formData.whatsapp)}</p>
                    ${formData.storePhone ? `<p>Telepon: ${esc(formData.storePhone)}</p>` : ''}
                    <p><br>Siap melayani Anda dengan sepenuh hati</p>
                </div>
                <div class="footer-section">
                    <h3>Jam Operasional</h3>
                    <p>Senin - Sabtu: 08:00 - 21:00<br>Minggu: 09:00 - 18:00<br><br>Fast response via WhatsApp</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 ${esc(formData.storeName)}. Powered by <strong>nexcoAI</strong> - Professional E-commerce Solutions</p>
            </div>
        </div>
    </footer>

    <script>
        const indonesiaData = ${addressDataString};
        const ongkirEstimasi = ${ongkirDataString};
        const PRODUCT_PRICE = ${formData.price};
        const productName = "${esc(formData.productName)}";
        const whatsappNumber = "${esc(formData.whatsapp)}";
        let currentUniqueCode = Math.floor(Math.random() * 900) + 100;

        // Gallery functions
        function changeMainImage(src, index) {
            document.getElementById('mainImage').src = src;
            document.querySelectorAll('.thumbnail').forEach((thumb, i) => {
                thumb.classList.toggle('active', i === index);
            });
        }

        // Quantity functions
        function changeQuantity(delta) {
            const qtyInput = document.getElementById('quantity');
            let newQty = parseInt(qtyInput.value) + delta;
            if (newQty < 1) newQty = 1;
            if (newQty > 99) newQty = 99;
            qtyInput.value = newQty;
            updateOrderSummary();
        }

        // Address functions
        function loadCities() {
            const province = document.getElementById('province').value;
            const citySelect = document.getElementById('city');
            const districtSelect = document.getElementById('district');
            
            citySelect.innerHTML = '<option value="">Pilih Kota/Kabupaten</option>';
            districtSelect.innerHTML = '<option value="">Pilih Kecamatan</option>';
            
            if (province && indonesiaData[province]) {
                Object.keys(indonesiaData[province]).sort().forEach(city => {
                    citySelect.innerHTML += \`<option value="\${city}">\${city}</option>\`;
                });
                citySelect.disabled = false;
            } else {
                citySelect.disabled = true;
            }
            
            districtSelect.disabled = true;
            updateOrderSummary();
        }
        
        function loadDistricts() {
            const province = document.getElementById('province').value;
            const city = document.getElementById('city').value;
            const districtSelect = document.getElementById('district');
            
            districtSelect.innerHTML = '<option value="">Pilih Kecamatan</option>';
            
            if (province && city && indonesiaData[province] && indonesiaData[province][city]) {
                indonesiaData[province][city].sort().forEach(district => {
                    districtSelect.innerHTML += \`<option value="\${district}">\${district}</option>\`;
                });
                districtSelect.disabled = false;
            } else {
                districtSelect.disabled = true;
            }
            
            updateOrderSummary();
        }

        // Update order summary
        function updateOrderSummary() {
            const quantity = parseInt(document.getElementById('quantity').value) || 1;
            const province = document.getElementById('province').value;
            
            // Get selected variant
            let selectedVariant = '';
            const variantSelect = document.getElementById('variantSelect');
            if (variantSelect && variantSelect.value) {
                selectedVariant = variantSelect.value;
            } else {
                const colorInputs = document.querySelectorAll('input[name="color"]');
                const sizeInputs = document.querySelectorAll('input[name="size"]');
                
                let selectedColor = '';
                let selectedSize = '';
                
                colorInputs.forEach(input => {
                    if (input.checked) selectedColor = input.value;
                });
                
                sizeInputs.forEach(input => {
                    if (input.checked) selectedSize = input.value;
                });
                
                if (selectedColor || selectedSize) {
                    selectedVariant = [selectedColor, selectedSize].filter(v => v).join(' - ');
                }
            }

            // Update variant display
            const variantRow = document.getElementById('summaryVariantRow');
            const variantSpan = document.getElementById('summaryVariant');
            if (selectedVariant) {
                variantRow.style.display = 'flex';
                variantSpan.textContent = selectedVariant;
            } else {
                variantRow.style.display = 'none';
            }
            
            const subtotal = PRODUCT_PRICE * quantity;
            let ongkir = 0;
            let ongkirText = 'Pilih provinsi';
            
            if (province && ongkirEstimasi[province]) {
                ongkir = ongkirEstimasi[province];
                ongkirText = \`Rp \${ongkir.toLocaleString('id-ID')}\`;
            }
            
            const total = subtotal + ongkir + currentUniqueCode;
            
            // Update display
            document.getElementById('summaryQty').textContent = \`\${quantity} pcs\`;
            document.getElementById('summarySubtotal').textContent = \`Rp \${subtotal.toLocaleString('id-ID')}\`;
            document.getElementById('summaryOngkir').textContent = ongkirText;
            document.getElementById('summaryUniqueCode').textContent = \`+Rp \${currentUniqueCode}\`;
            document.getElementById('summaryTotal').textContent = \`Rp \${total.toLocaleString('id-ID')}\`;
        }

        // Form submission
        function submitOrder() {
            // Validate required fields
            const requiredFields = [
                { id: 'customerName', name: 'Nama lengkap' },
                { id: 'customerPhone', name: 'No. WhatsApp' },
                { id: 'customerAddress', name: 'Alamat lengkap' },
                { id: 'province', name: 'Provinsi' },
                { id: 'city', name: 'Kota/Kabupaten' },
                { id: 'district', name: 'Kecamatan' }
            ];

            let isValid = true;
            let missingFields = [];

            requiredFields.forEach(field => {
                const element = document.getElementById(field.id);
                if (!element.value.trim()) {
                    element.style.borderColor = 'var(--danger)';
                    missingFields.push(field.name);
                    isValid = false;
                } else {
                    element.style.borderColor = 'var(--border)';
                }
            });

            // Validate variant selection if applicable
            let selectedVariant = '';
            const variantSelect = document.getElementById('variantSelect');
            const colorInputs = document.querySelectorAll('input[name="color"]');
            const sizeInputs = document.querySelectorAll('input[name="size"]');

            if (variantSelect) {
                if (!variantSelect.value) {
                    variantSelect.style.borderColor = 'var(--danger)';
                    missingFields.push('Varian produk');
                    isValid = false;
                } else {
                    selectedVariant = variantSelect.value;
                    variantSelect.style.borderColor = 'var(--border)';
                }
            } else if (colorInputs.length > 0 || sizeInputs.length > 0) {
                let hasSelectedColor = false;
                let hasSelectedSize = false;
                
                colorInputs.forEach(input => {
                    if (input.checked) {
                        hasSelectedColor = true;
                        selectedVariant += input.value;
                    }
                });
                
                sizeInputs.forEach(input => {
                    if (input.checked) {
                        hasSelectedSize = true;
                        if (selectedVariant) selectedVariant += ' - ';
                        selectedVariant += input.value;
                    }
                });

                if (colorInputs.length > 0 && !hasSelectedColor) {
                    missingFields.push('Pilihan warna');
                    isValid = false;
                }
                if (sizeInputs.length > 0 && !hasSelectedSize) {
                    missingFields.push('Pilihan ukuran');
                    isValid = false;
                }
            }

            if (!isValid) {
                alert(\`Mohon lengkapi data berikut:\\n‚Ä¢ \${missingFields.join('\\n‚Ä¢ ')}\`);
                return;
            }

            // Collect form data
            const customerName = document.getElementById('customerName').value.trim();
            const customerPhone = document.getElementById('customerPhone').value.trim();
            const customerAddress = document.getElementById('customerAddress').value.trim();
            const province = document.getElementById('province').value;
            const city = document.getElementById('city').value;
            const district = document.getElementById('district').value;
            const notes = document.getElementById('notes').value.trim();
            const quantity = parseInt(document.getElementById('quantity').value);

            // Calculate totals
            const subtotal = PRODUCT_PRICE * quantity;
            const ongkir = ongkirEstimasi[province] || 0;
            const total = subtotal + ongkir + currentUniqueCode;

            // Create WhatsApp message
            let message = \`üõí *PESANAN BARU*\\n\\n\`;
            message += \`üì¶ *DETAIL PRODUK:*\\n\`;
            message += \`‚Ä¢ Produk: \${productName}\\n\`;
            if (selectedVariant) {
                message += \`‚Ä¢ Varian: \${selectedVariant}\\n\`;
            }
            message += \`‚Ä¢ Harga: Rp \${PRODUCT_PRICE.toLocaleString('id-ID')}\\n\`;
            message += \`‚Ä¢ Jumlah: \${quantity} pcs\\n\`;
            message += \`‚Ä¢ Subtotal: Rp \${subtotal.toLocaleString('id-ID')}\\n\\n\`;

            message += \`üöö *PENGIRIMAN:*\\n\`;
            message += \`‚Ä¢ Ongkir (\${province}): Rp \${ongkir.toLocaleString('id-ID')}\\n\`;
            message += \`‚Ä¢ Kode Unik: +Rp \${currentUniqueCode}\\n\`;
            message += \`‚Ä¢ *TOTAL BAYAR: Rp \${total.toLocaleString('id-ID')}*\\n\\n\`;

            message += \`üë§ *DATA PENERIMA:*\\n\`;
            message += \`‚Ä¢ Nama: \${customerName}\\n\`;
            message += \`‚Ä¢ HP/WA: \${customerPhone}\\n\`;
            message += \`‚Ä¢ Alamat: \${customerAddress}\\n\`;
            message += \`‚Ä¢ Kecamatan: \${district}\\n\`;
            message += \`‚Ä¢ Kota: \${city}\\n\`;
            message += \`‚Ä¢ Provinsi: \${province}\\n\`;

            if (notes) {
                message += \`\\nüìù *CATATAN:*\\n\${notes}\\n\`;
            }

            message += \`\\nüí≥ *PEMBAYARAN:* Transfer Bank/E-Wallet\\n\`;
            message += \`\\nMohon konfirmasi pesanan ini. Terima kasih! üôè\`;

            // Open WhatsApp
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = \`https://wa.me/\${whatsappNumber}?text=\${encodedMessage}\`;
            window.open(whatsappUrl, '_blank');
        }

        // Initialize page
        window.addEventListener('DOMContentLoaded', function() {
            // Setup province options
            const provinceSelect = document.getElementById('province');
            Object.keys(indonesiaData).sort().forEach(province => {
                provinceSelect.innerHTML += \`<option value="\${province}">\${province}</option>\`;
            });

            // Initial summary update
            updateOrderSummary();

            // Add event listeners
            document.getElementById('quantity').addEventListener('input', updateOrderSummary);
            
            // Add smooth scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
        });

        // Add loading state to WhatsApp button
        function addLoadingState() {
            const btn = document.querySelector('.whatsapp-btn');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<span>‚è≥</span><span>Memproses pesanan...</span>';
            btn.disabled = true;
            btn.style.background = '#6b7280';
            
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.disabled = false;
                btn.style.background = '';
            }, 2000);
        }

        // Override submitOrder to add loading state
        const originalSubmitOrder = submitOrder;
        submitOrder = function() {
            addLoadingState();
            setTimeout(originalSubmitOrder, 500);
        };
    <\/script>
</body>
</html>`;

            return html;
        }
    </script>
</body>
</html>
